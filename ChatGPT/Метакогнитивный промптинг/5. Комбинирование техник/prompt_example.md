# Пример «полного метакогнитивного конвейера» (адаптация под ChatGPT) + подробный разбор

## Итог
Ниже — готовый шаблон «конвейера» для сложной задачи переписанный так, чтобы **работал в ChatGPT**: меньше лишней болтовни, есть лимиты, точки контроля, формат вывода, и понятные переключатели режимов.

---

## 1) Когда этот конвейер нужен

Используй шаблон, когда задача:
- многоэтапная (исследование → выводы → план)
- требует смешения типов работы (анализ, расчёты, риск-менеджмент)
- зависит от качества исходных данных (могут быть пробелы/противоречия)
- должна завершиться **решением, планом действий или рекомендациями**

Не используй, если:
- нужен короткий ответ
- задача полностью понятна и элементарна
- нет времени на итерации

---

## 2) Основная идея простыми словами

Предлагается собрать систему, где ChatGPT:
1) **постоянно мониторит** качество ответа (а не только в конце)
2) **сам выбирает подход**, а не пишет «как получится»
3) **координирует этапы**, чтобы не прыгать хаотично
4) **в конце делает ревизию**, чтобы найти дыры
5) выдаёт результат в формате, удобном для решений

Ключевое: это не один «умный вопрос», а **управляемый сценарий работы**.

---

## 3) Адаптированный конвейер для ChatGPT: готовый mega-prompt


### Mega-prompt: «Метакогнитивный конвейер v1»

**Роль:** Ты — аналитическая система. Твоя цель — выдать практический результат, а не рассуждения ради рассуждений.

**Задача:**  
[ВСТАВЬ СЮДА ОПИСАНИЕ СВОЕЙ ЗАДАЧИ]

**Ограничения:**
- Не уходи в бесконечный самоанализ: максимум 2 итерации коррекции на раздел.
- Если данных не хватает — задавай точечные вопросы (до 5), либо предложи разумные допущения и пометь их как допущения.
- Приоритет: действие и полезность. Теория — только если она помогает решению.

---

### Слой 1 — Мониторинг (встроенный, не болтать лишнее)
Во время ответа отслеживай:
- уверенность в данных/предпосылках (0–100%)
- качество рассуждений (высокое/среднее/низкое)
- пробелы/риски/противоречия

Отображай мета-оценку **только для ключевых выводов** в формате:
`[Уверенность: X%, Качество: ..., Пробелы/риски: ...]`

---

### Слой 2 — Управление стратегией (на входе каждого этапа)
Перед каждым этапом:
1) оцени сложность этапа (низкая/средняя/высокая)
2) выбери стратегию: быстрый обзор / глубокий анализ / сравнение вариантов
3) задай критерий «достаточно» (когда можно идти дальше)

---

### Слой 3 — Координация этапов (конвейер)
Работай строго по этапам, не перескакивай:

**Этап A. Уточнение рамок**
- цель, аудитория, ограничения, критерии успеха

**Этап B. Сбор и структурирование данных**
- что известно / чего не хватает / какие допущения

**Этап C. Анализ по блокам**
- разложи задачу на 3–6 блоков и проработай каждый

**Этап D. Синтез**
- сведи всё в общую картину: выводы, варианты, компромиссы

**Этап E. План действий**
- конкретные шаги, приоритеты, сроки (если применимо), риски

---

### Слой 4 — Рефлексия (в конце)
Сделай финальную ревизию:
1) где аргументация слабее всего
2) какие ключевые риски могут «сломать» решение
3) что нужно уточнить в первую очередь

---

### Формат вывода
1) Решение / рекомендация (5–15 строк)
2) Обоснование по блокам
3) План действий
4) Карта уверенности (таблица)

---

## 4) Подробный разбор по этапам: что происходит и зачем

Ниже — «разбор» каждого этапа (как это реально заставить работать).

---

### Этап 1: Архитектурное планирование системы

**Зачем:**  
Чтобы ChatGPT не начал сразу писать «ответ вообще обо всём», а понял:
- что именно ты хочешь на выходе
- какие части задачи независимы
- где нужна точность, а где допустимы допущения

**Как проявляется в диалоге:**
- сначала короткий блок уточнения рамок
- затем декомпозиция на блоки

**Что часто ломается:**
- пользователь не задал формат результата → модель выдаёт «эссе»
- нет критериев успеха → модель не понимает, когда остановиться

**Что улучшить:**
- просить: «итог + план + риски»
- ограничивать число блоков анализа (3–6)

---

### Этап 2: Создание базового мониторингового промпта

**Зачем:**  
Чтобы модель **не прятала сомнения** и не «уверенно выдумывала».

**Как адаптировать под ChatGPT правильно:**
- НЕ просить мета-оценку после каждого абзаца (слишком шумно)
- просить мета-оценку только для ключевых выводов
- добавить «пробелы/риски», чтобы модель сама подсвечивала слабые места

**Рабочий формат:**
`[Уверенность: 70%, Качество: среднее, Пробелы/риски: нет данных по X]`

---

### Этап 3: Интеграция адаптивных техник

**Зачем:**  
Чтобы модель выбирала глубину анализа по важности.

**Реальная польза:**
- не тратить 1000 токенов на второстепенное
- углубляться там, где риск ошибки выше

**Как это делается:**
Перед каждым блоком:
- сложность
- стратегия
- критерий достаточности

**Пример критерия «достаточно»:**
- «есть 2–3 альтернативы и понятные trade-offs»
- «риски перечислены и есть меры снижения»
- «можно принять решение без новых данных»

---

### Этап 4: Координация инструментов и процессов

**Зачем:**  
Чтобы этапы шли логично, а не «впараллель в кашу».

**Как адаптировать:**
- фиксированный пайплайн (A→B→C→D→E)
- после каждого этапа: быстрый чек «можно идти дальше?»

**Что важно добавить (практика):**
- «если данных не хватает — остановись и спроси»
- «не делай следующий этап на фантазиях»

---

### Этап 5: Рефлексивный анализ и самокоррекция

**Зачем:**  
Финальная защита от:
- логических дыр
- противоречий
- слишком оптимистичных выводов

**Как правильно:**
- финальная ревизия **после** основного ответа
- максимум 1–2 итерации корректировки
- выдавать «что уточнить в первую очередь»

**Выходной артефакт:** «карта уверенности»  
Это делает результат управляемым: ты видишь, где можно доверять, а где надо проверять.

---

### Этап 6: Тестирование и итерация

**Зачем:**  
Потому что «идеальный промпт с первого раза» почти миф.

**Практика итераций:**
- 1-я прогонка: собрать структуру и пробелы
- 2-я: усилить слабые места (данные/риски)
- 3-я (опционально): заточить под формат итогового документа

**Мини-правило:**
- если после 2-й итерации всё ещё «плывёт» — проблема в постановке задачи, а не в промпте

---

## 5) Быстрый чек-лист «чтобы работало»

- [ ] Есть чёткий формат результата (решение/план/риски)
- [ ] Есть лимит итераций (иначе петли)
- [ ] Мета-оценка только на ключевых выводах
- [ ] Есть критерии «достаточно» для этапов
- [ ] Есть механизм «не хватает данных → вопросы/допущения»

---

## 6) Мини-шаблон для вставки в любые задачи (короткая версия)

Ты решаешь задачу по этапам A→E.  
Перед этапом выбирай стратегию и критерий «достаточно».  
Для ключевых выводов показывай: `[Уверенность, Качество, Пробелы/риски]`.  
Если не хватает данных — задай до 5 вопросов или введи допущения (явно пометь).  
Не более 2 итераций самокоррекции на этап.

---
