# infra-playbooks

Этот репозиторий содержит полезные советы, находки и руководства по работе с инфраструктурой и использованием больших языковых моделей (LLM, таких как ChatGPT) в инженерных задачах. Основной фокус на обеспечении качества и безопасности решений в продакшн-среде, включая SLA (Service Level Agreement) промпты для различных технологий.

## Индекс файлов и решаемые задачи

Раздел помогает быстро подобрать нужный файл/технику под тип задачи.

### ChatGPT/
- **[how-to-use-llm-in-engineering-problems.md](ChatGPT/how-to-use-llm-in-engineering-problems.md)**: Как стартовать инженерную задачу с LLM (SLA-режим), ускорять работу форматом ответа и проверять результат (edge-cases, порядок выполнения, откат).
- **[llm-antipatterns.md](ChatGPT/llm-antipatterns.md)**: Типовые антипаттерны LLM (абстрактные best practices, отсутствие отката, уверенность без проверок) и базовый протокол: анализ -> решение -> проверка -> откат.
- **[STOP-commands.md](ChatGPT/STOP-commands.md)**: Стоп-команды для мгновенной коррекции, когда модель уходит в предположения/абстракции, предлагает непроверяемые решения или не задаёт вопросы при неопределённости.

### ChatGPT/SLA-prompts/
- **[README.md](ChatGPT/SLA-prompts/README.md)**: Что такое production и SLA, и как выбирать профиль под технологию (Apache/PHP/Bash/C#).
- **[sla-apache.md](ChatGPT/SLA-prompts/sla-apache.md)**: Rewrite/ACL в Apache/.htaccess: контроль порядка правил, проверок `-f/-d`, рисков регрессий и быстрый откат.
- **[sla-bash.md](ChatGPT/SLA-prompts/sla-bash.md)**: Bash/Shell: безопасные, проверяемые и идемпотентные скрипты (dry-run/rollback), запрет опасных паттернов.
- **[sla-csharp.md](ChatGPT/SLA-prompts/sla-csharp.md)**: C#/.NET: требования к async/await, потокобезопасности, DI lifetime, исключениям и плану отката.
- **[sla-php.md](ChatGPT/SLA-prompts/sla-php.md)**: PHP production: строгая обработка ошибок, совместимость версий, тестируемость, контроль побочных эффектов и откат.
- **[SLA-prompt.md](ChatGPT/SLA-prompts/SLA-prompt.md)**: Общий production+SLA режим для любых задач: детерминированная логика, проверяемость, вопросы при неопределённости и обязательный откат.

### ChatGPT/Метакогнитивный промптинг/

#### 1. Фундаментальные техники
- **[1. Метакалибровка уверенности.md](<ChatGPT/Метакогнитивный промптинг/1. Фундаментальные техники/1. Метакалибровка уверенности.md>)**: Оценка надёжности ответа (0–100%), явная фиксация допущений и зон неопределённости.
- **[2. Метамониторинг качества ответа.md](<ChatGPT/Метакогнитивный промптинг/1. Фундаментальные техники/2. Метамониторинг качества ответа.md>)**: Самопроверка логики по ходу решения (код, расчёты, аналитика) с остановкой и коррекцией при ошибках.
- **[3. Метакогнитивная саморефлексия.md](<ChatGPT/Метакогнитивный промптинг/1. Фундаментальные техники/3. Метакогнитивная саморефлексия.md>)**: Ретроспективный разбор готового ответа: что сработало, что улучшить, какие альтернативы были возможны.
- **[4. Метапланирование промптов.md](<ChatGPT/Метакогнитивный промптинг/1. Фундаментальные техники/4. Метапланирование промптов.md>)**: Выбор стратегии мышления и плана решения для сложных/размытых задач, чтобы не «угадывать промпт».
- **[universal_prompt.md](<ChatGPT/Метакогнитивный промптинг/1. Фундаментальные техники/universal_prompt.md>)**: Универсальный метапромпт: анализ задачи -> план -> решение с самоконтролем -> оценка уверенности -> рекомендации -> (опционально) рефлексия.

#### 2. Адаптивные и контекстные техники
- **[1. Стратегический выбор подхода.md](<ChatGPT/Метакогнитивный промптинг/2. Адаптивные и контекстные техники/1. Стратегический выбор подхода.md>)**: Автоматический выбор и переключение стратегии решения, когда задача неясная или меняется по ходу работы.
- **[2. Управление контекстом.md](<ChatGPT/Метакогнитивный промптинг/2. Адаптивные и контекстные техники/2. Управление контекстом.md>)**: Очистка и фокусировка контекста в длинных диалогах: что учитывать, что отбросить, что явно зафиксировать.
- **[3. Осознанный разбор действий.md](<ChatGPT/Метакогнитивный промптинг/2. Адаптивные и контекстные техники/3. Осознанный разбор действий.md>)**: Объяснение логики шагов и альтернатив для обучения, документации, передачи опыта и воспроизводимых процедур.
- **[universal_prompt.md](<ChatGPT/Метакогнитивный промптинг/2. Адаптивные и контекстные техники/universal_prompt.md>)**: Универсальный промпт адаптивного режима: анализ задачи, управление контекстом, выбор стратегии, выполнение и (если уместно) процедурная рефлексия.

#### 3. Техники обучения и самокоррекции
- **[1. Метакоррекция и итерация.md](<ChatGPT/Метакогнитивный промптинг/3. Техники обучения и самокоррекции/1. Метакоррекция и итерация.md>)**: Точечное исправление ошибок + вывод правил проверки, чтобы не повторять их в следующих шагах.
- **[2. Адаптивное метаобучение.md](<ChatGPT/Метакогнитивный промптинг/3. Техники обучения и самокоррекции/2. Адаптивное метаобучение.md>)**: Улучшение ответов внутри одной сессии на основе замечаний/правок и изменения требований; при недостатке данных — вопросы до решения.
- **[3. Социально-когнитивная метаадаптация.md](<ChatGPT/Метакогнитивный промптинг/3. Техники обучения и самокоррекции/3. Социально-когнитивная метаадаптация.md>)**: Подстройка формата и глубины объяснений под стиль мышления пользователя (шаги/примеры/теория, уровень абстракции).
- **[universal_prompt.md](<ChatGPT/Метакогнитивный промптинг/3. Техники обучения и самокоррекции/universal_prompt.md>)**: Mega-prompt: первичный ответ -> метакоррекция -> проверки -> адаптация по истории диалога -> подстройка под пользователя -> правило самокоррекции на будущее.

#### 4. Техники координации и анализа
- **[1. Базовая метакоординация.md](<ChatGPT/Метакогнитивный промптинг/4. Техники координации и анализа/1. Базовая метакоординация.md>)**: Разбиение задачи на этапы, выбор метода для каждого этапа, контроль промежуточных результатов и адаптация плана.
- **[2. Инструментальная метаадаптация.md](<ChatGPT/Метакогнитивный промптинг/4. Техники координации и анализа/2. Инструментальная метаадаптация.md>)**: Адаптация подхода под конкретную модель/инструмент: сильные стороны, ограничения, оптимальный формат результата.
- **[3. Ретроспективная метааналитика.md](<ChatGPT/Метакогнитивный промптинг/4. Техники координации и анализа/3. Ретроспективная метааналитика.md>)**: Анализ истории диалогов/проектов: что сработало, где ошибки, какие паттерны повторяются, рекомендации на будущее.
- **[4. Коллективная метамодерация.md](<ChatGPT/Метакогнитивный промптинг/4. Техники координации и анализа/4. Коллективная метамодерация.md>)**: Управление «виртуальными ролями» и баланс мнений в спорных задачах; защита от эхо-камеры и преждевременного консенсуса.
- **[universal_prompt.md](<ChatGPT/Метакогнитивный промптинг/4. Техники координации и анализа/universal_prompt.md>)**: Универсальный промпт координатора: декомпозиция, порядок действий, точки проверки качества и переключение подхода при проблемах.

#### 5. Комбинирование техник
- **[README.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/README.md>)**: Заметки об интеграции техник в систему: принципы комбинирования, слои архитектуры (мониторинг/управление/координация/рефлексия/интерфейс) и типичные ошибки.
- **[prompt_example.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/prompt_example.md>)**: Пример <полного метакогнитивного конвейера> для ChatGPT: готовый mega-prompt с лимитами, этапами A–E, мета-оценками и чек-листом.
- **[1. Иерархическая активация.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/1. Иерархическая активация.md>)**: Включение приёмов по уровням: сначала базовые проверки, затем — усиление только при необходимости (без перегруза).
- **[2. Обратная связь между техниками.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/2. Обратная связь между техниками.md>)**: Циклы самопроверки и исправления: ошибки запускают уточнение/коррекцию до заданного лимита итераций.
- **[3. Контекстная адаптация.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/3. Контекстная адаптация.md>)**: Подстройка глубины и стиля ответа под тип задачи (аналитика vs креатив, проектность, прикладные ограничения).
- **[4. Синергетическое усиление.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/4. Синергетическое усиление.md>)**: Комбинация приёмов, где один компенсирует слабости другого; полезно для долгих и многоэтапных задач.
- **[5. Оптимизация ресурсов.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/5. Оптимизация ресурсов.md>)**: Ограничение глубины анализа и «минимум достаточного» решения, чтобы экономить время и контекст.
- **[6. Метакогнитивная согласованность.md](<ChatGPT/Метакогнитивный промптинг/5. Комбинирование техник/6. Метакогнитивная согласованность.md>)**: Контроль непротиворечивости частей ответа и выравнивание приоритетов, особенно в сложных рекомендациях/стратегиях.
